{% extends "base.html" %}

{% block title %}{{ section.title }} - {{ config.title }}{% endblock %}

{% block content %}
<h1>{{ section.title }}</h1>

{% if section.content %}
<div class="intro">
  {{ section.content | safe }}
</div>
{% endif %}

{% if terms %}
{# This is a taxonomy listing page (e.g., all tags) #}
<div class="tag-filter">
  <h3>Filter by tag:</h3>
  <div class="tags">
    {% for term in terms %}
    <a href="{{ term.permalink }}" class="tag">{{ term.name }} ({{ term.pages | length }})</a>
    {% endfor %}
  </div>
</div>
{% endif %}

{% if section.pages %}
<ul class="blog-list">
  {% for page in section.pages %}
  <li class="blog-item">
    <h2><a href="{{ page.permalink }}">{{ page.title }}</a></h2>
    <div class="blog-meta">{{ page.date | date(format="%B %d, %Y") }}</div>
    {% if page.description %}
    <p class="blog-description">{{ page.description }}</p>
    {% endif %}
    {% if page.taxonomies.tags %}
    <div class="tags">
      {% for tag in page.taxonomies.tags %}
      <a href="{{ get_taxonomy_url(kind="tags", name=tag) }}" class="tag">{{ tag }}</a>
      {% endfor %}
    </div>
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endif %}
{% endblock %}
