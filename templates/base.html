<!DOCTYPE html>
<html lang="{{ lang | default(value="en") }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{{ config.title }}{% endblock %}</title>
  <meta name="description" content="{% block description %}{{ config.description }}{% endblock %}">

  <link rel="stylesheet" href="{{ get_url(path="main.css") }}">

  <!-- Theme script - inline to prevent flash -->
  <script src="{{ get_url(path="js/theme.js") }}"></script>

  {% if config.generate_feeds %}
  <link rel="alternate" type="application/atom+xml" title="{{ config.title }}" href="{{ get_url(path="atom.xml", trailing_slash=false) }}">
  {% endif %}
</head>
<body>
  <a href="#main-content" class="skip-to-content">Skip to content</a>
  <div class="container">
    <header>
      <nav aria-label="Main navigation">
        <a href="{{ get_url(path="/") }}" class="site-title">{{ config.title }}</a>
        <ul class="nav-links">
          <li><a href="{{ get_url(path="/blog") }}" {% if current_path is starting_with("/blog") %}class="active" aria-current="page"{% endif %}>Blog</a></li>
          <li><a href="{{ get_url(path="/experience") }}" {% if current_path == "/experience" %}class="active" aria-current="page"{% endif %}>Experience</a></li>
          <li><a href="{{ get_url(path="/things-i-like") }}" {% if current_path == "/things-i-like" %}class="active" aria-current="page"{% endif %}>Things I Like</a></li>
          <li>
            <label class="theme-switch" aria-label="Toggle dark mode">
              <input type="checkbox" id="theme-toggle" aria-label="Dark mode toggle">
              <span class="slider" aria-hidden="true"></span>
            </label>
          </li>
        </ul>
      </nav>
    </header>

    <main id="main-content">
      {% block content %}{% endblock %}
    </main>

    <footer>
      <p>{{ config.extra.author }}</p>
    </footer>
  </div>
</body>
</html>
